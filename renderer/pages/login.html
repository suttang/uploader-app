<link rel="import" href="../../bower_components/polymer/polymer.html">

<dom-module id="box-page-login">

  <template>
    <style>
        .error {
            color: #c00;
        }
    </style>

      <h1>this is login page</h1>
      <div class="error">
          {{error}}
      </div>
      <form id="login" on-submit="submitHandler">
          <p>email: <input type="email" name="email" id="email"></p>
          <p>password: <input type="password" name="password" id="password"></p>
          <input type="submit">
      </form>
  </template>

  <script>
    Polymer({
      is: 'box-page-login',
      ready() {
          console.log(this.$.email, this.$.password);
      },
      submitHandler(event) {
          event.preventDefault();

          const email = this.$.email.value;
          const password = this.$.password.value;
          firebase.auth().signInWithEmailAndPassword(email, password).then(user => {
              console.log(user);
          }).catch(error => {
              var errorCode = error.code;
              var errorMessage = error.message;
              console.log(errorCode);
              console.log(errorMessage);
              this.error = errorMessage;
          });
      }
    });

  </script>

</dom-module>
